---
export interface Props {
  label?: string;
  bgColor: string;
  logo?: string;
  logoColor?: string;
  link?: string;
}

const { logo, label, bgColor, logoColor = "white", link } = Astro.props;

function queryParam(name: string, value?: string) {
  return value ? `&${name}=${value}` : "";
}
---

<object
  class="badge-icon"
  data={`https://img.shields.io/badge/${encodeURIComponent(
    label ?? logo ?? ""
  )}-${bgColor}?style=for-the-badge${
    queryParam("logo", logo) +
    queryParam("logoColor", logoColor) +
    queryParam("link", link)
  }`}
/>

<style>
  .badge-icon {
    @apply inline-block mx-0 my-1;
  }
</style>
